import sys

sys.stdin = open("_암호문1.txt")

for test_case in range(1, 11) :
    N = int(input())
    original = list(map(int, input().split()))
    cmd_num = int(input())
    cmd_list = input().split('I') # I를 기준으로 명령어 분리
    '''
    ['', ' 1 5 400905 139831 966064 336948 119288 ', 
    ' 8 6 436704 702451 762737 557561 810021 771706 ', 
    ' 3 8 389953 706628 552108 238749 661021 498160 493414 377808 ', 
    ' 13 4 237017 301569 243869 252994 ', 
    ' 3 4 408347 618608 822798 370982 ', 
    ' 8 2 424216 356268 ', 
    ' 4 10 512816 992679 693002 835918 768525 949227 628969 521945 839380 479976 ']
    '''

    cmd_list.pop(0) # 맨 앞 빈 항목 제거
    '''
    [' 1 5 400905 139831 966064 336948 119288 ', 
     ' 8 6 436704 702451 762737 557561 810021 771706 ', 
     ' 3 8 389953 706628 552108 238749 661021 498160 493414 377808 ', 
     ' 13 4 237017 301569 243869 252994 ', 
     ' 3 4 408347 618608 822798 370982 ', 
     ' 8 2 424216 356268 ', 
     ' 4 10 512816 992679 693002 835918 768525 949227 628969 521945 839380 479976 ']
    '''

    for i in range(cmd_num) :
        cmd_list[i] = cmd_list[i].split() 
        # 명령어를 숫자들로만 구성하고 수행할 라인 별로 명령어를 분리해서 리스트 속에 리스트로 저장
        '''
        [['1', '5', '400905', '139831', '966064', '336948', '119288'], 
         ['8', '6', '436704', '702451', '762737', '557561', '810021', '771706'], 
         ['3', '8', '389953', '706628', '552108', '238749', '661021', '498160', '493414', '377808'], 
         ['13', '4', '237017', '301569', '243869', '252994'], 
         ['3', '4', '408347', '618608', '822798', '370982'], 
         ['8', '2', '424216', '356268'], 
         ['4', '10', '512816', '992679', '693002', '835918', '768525', '949227', '628969', '521945', '839380', '479976']] 
        '''
                          #   0    1      2         3         4         5         6
    for cmd in cmd_list : # ['1', '5', '400905', '139831', '966064', '336948', '119288']
        for i in range(int(cmd[1])+1, 1, -1) : # cmd[0] : 삽입할 숫자의 위치, cmd[1] : 삽입할 숫자의 갯수, cmd[2:] : 삽입할 숫자들
            original.insert(int(cmd[0]), int(cmd[i])) # 명령어 라인에 있는 맨 끝 숫자부터 원본의 지정 위치에 삽입

    print(f'#{test_case} ', end='')
    for i in range(10) :
        print(f'{original[i]} ', end='') # 10개만 출력
    print()